<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parallax Depth Effect</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600;800&display=swap" rel="stylesheet">
  <style>
    /* Reset & Base */
    * { margin:0; padding:0; box-sizing:border-box; }
    
    body, html {
      background-color: #050505;
      color: white;
      font-family: "Poppins", sans-serif;
      overflow-x: hidden; /* Prevent horizontal scroll */
    }

    /* HERO CONTAINER 
      - Fixed height
      - Relative positioning to contain absolute children
    */
    .hero {
      position: relative;
      height: 100vh;
      /* Fallback for mobile browsers */
      height: 100dvh; 
      width: 100%;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      /* Ensure Hero is behind the 'content' initially, but we handle order via Z-index */
      z-index: 1; 
    }

    /* LAYER 1: BACKGROUND 
      - Lowest Z-index
      - Covers entire screen
    */
    .bg-layer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 120%; /* Taller than screen for parallax movement */
      object-fit: cover;
      z-index: 0;
      filter: brightness(0.9);
    }

    /* LAYER 2: TEXT 
      - Middle Z-index
      - Centered
    */
    .hero-text {
      position: relative; /* Relative works here because parent is flex-centered */
      z-index: 1;
      text-align: center;
      mix-blend-mode: overlay; /* Cool effect against background */
      opacity: 0.9;
      width: 90%; /* Prevent text from touching edges on small screens */
    }

    .hero-text h1 {
      font-size: 8vw;
      line-height: 1;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: -2px;
      /* text-shadow: 0 10px 30px rgba(0,0,0,0.5); */
    }

    .hero-text p {
      font-size: 1.5rem;
      font-weight: 300;
      margin-top: 1rem;
      letter-spacing: 2px;
    }

    /* LAYER 4 (Highest): FOREGROUND 
      - Highest Z-index (20)
      - Must be a transparent PNG
      - Pointer events none to let user click through if needed
    */
    .foreground-layer {
      position: absolute;
      bottom: -5%; /* Start slightly lower to hide edges */
      left: 0;
      width: 100%;
      height: auto;
      min-height: 40vh;
      object-fit: cover;
      object-position: bottom;
      z-index: 20;
      pointer-events: none;
      /* Drop shadow helps separate it from the content sliding behind */
      /* filter: drop-shadow(0px -10px 20px rgba(0, 0, 0, 0.79)); */
    }

    /* LAYER 3: CONTENT SECTION 
      - Z-index 10 (Between Text and Foreground)
      - This allows it to slide OVER the background but UNDER the foreground
    */
    .content-section {
      position: relative;
      z-index: 10; 
      background-color: #0a0a0a;
      min-height: 100vh;
      padding: 100px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      
      /* Negative margin pulls the section up to start the overlap effect */
      margin-top: 0vh; 
      box-shadow: 0 -50px 100px rgba(0,0,0,0.8); /* Shadow to blend top edge */
    }

    .content-wrapper {
      max-width: 800px;
      text-align: center;
    }

    .content-wrapper h2 {
      font-size: 3rem;
      margin-bottom: 2rem;
      color: #e0e0e0;
    }

    .content-wrapper p {
      font-size: 1.2rem;
      line-height: 1.8;
      color: #888;
      margin-bottom: 2rem;
    }

    /* Decorative gradient at bottom of hero to blend text if it gets too low */
    .vignette {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 40%;
      background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
      z-index: 2;
      pointer-events: none;
    }

    /* Mobile Optimizations */
    @media (max-width: 768px) {
      /* Break flex centering on mobile to force text higher up */
   

      .hero-text h1 { 
        font-size: 13vw; /* Adjusted size */
        text-shadow: 0 4px 10px rgba(0,0,0,0.9); /* Stronger shadow for contrast */
      }
      
      .hero-text p { 
        font-size: 1rem; 
        margin-top: 0.5rem;
        text-shadow: 0 2px 5px rgba(0,0,0,0.9);
      }
      
      /* Zoom in the foreground so it doesn't look like a tiny strip */
      .foreground-layer { 
        width: 180%; /* Zoom in */
        left: -40%; /* Center the zoomed image */
        height: auto;
        bottom: 0;
        min-height: auto; /* Reset min-height constraint */
      }
      
      .content-section {
        padding-top: 60px;
        /* Reduce overlap slightly on mobile */
        margin-top: -5vh;
      }
      
      .content-wrapper h2 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>

  <!-- HERO AREA -->
  <div class="hero">
    <!-- 1. Background Image (Misty Mountains) -->
    <img 
      src="bbg.png" 
      class="bg-layer" 
      alt="Background Mountains"
    >
    
    <!-- 2. Text -->
    <div class="hero-text">
      <h1>Parallax</h1>
      <p>Scroll to see the depth</p>
    </div>

    <!-- Gradient Blend -->
    <div class="vignette"></div>

    <!-- 3. Foreground Image (Transparent PNG of Rocks/Trees) -->
    <!-- Using a reliable PNG source for the cutout effect -->
    <img 
      src="img-Photoroom.png" 
      class="foreground-layer" 
      alt="Foreground Rocks"
    >
  </div>

  <!-- CONTENT SECTION -->
  <section class="content-section">
    <div class="content-wrapper">
      <h2>The Depth Effect</h2>
      <p>
        Notice how this text block slid <strong>up</strong> over the background sky, 
        but slipped <strong>behind</strong> the rocky foreground silhouette?
      </p>
      <p>
        This is achieved by managing CSS <code>z-index</code> layers. The background is 0, 
        this text section is 10, and the foreground rocks are 20.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
      </p>
    </div>
  </section>

  <!-- GSAP Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  
  <script>
    gsap.registerPlugin(ScrollTrigger);

    // 1. Move Background slower than scroll (Standard Parallax)
    gsap.to(".bg-layer", {
      y: "30%", // Moves down 30% of its height
      ease: "none",
      scrollTrigger: {
        trigger: ".hero",
        start: "top top",
        end: "bottom top",
        scrub: true
      }
    });

    // 2. Move Text faster than scroll (Disappears quickly)
    gsap.to(".hero-text", {
      y: "50%", 
      opacity: 0,
      ease: "none",
      scrollTrigger: {
        trigger: ".hero",
        start: "top top",
        end: "60% top", // Fades out before hitting the rocks
        scrub: true
      }
    });

    // 3. Foreground Adjustment (Optional)
    // We can make the foreground move slightly UP to enhance the "covering" effect
    gsap.to(".foreground-layer", {
      y: "-5%", // Moves slightly up to meet the user
      scale: 1.05, // Slight zoom
      ease: "none",
      scrollTrigger: {
        trigger: ".hero",
        start: "top top",
        end: "bottom top",
        scrub: true
      }
    });
  </script>
</body>
</html>